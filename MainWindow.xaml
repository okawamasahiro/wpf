<Window x:Class="wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="GPTサンプル" Height="700" Width="1000">
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- チャット履歴 -->
        <ScrollViewer Grid.Row="0" Grid.Column="1" VerticalScrollBarVisibility="Auto">
            <ItemsControl x:Name="ChatList">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border 
                            Margin="8" 
                            Padding="8" 
                            CornerRadius="8"
                            Background="{Binding Background}">
                            <TextBlock Text="{Binding Text}" TextWrapping="Wrap" />
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>

        <!-- 生成された画像表示 -->
        <Border Grid.Row="1"
                Grid.Column="1"
                Margin="0,10,0,0"
                BorderBrush="Gray"
                BorderThickness="1">
            <ScrollViewer>
                <Image x:Name="GeneratedImage"
                       Stretch="Uniform" />
            </ScrollViewer>
        </Border>

        <!-- 入力欄 -->
        <TextBox Grid.Row="2" 
                 Grid.Column="1"
                 x:Name="InputTextBox"
                 Height="30"
                 FontSize="14"
                 Margin="0,0,0,10"/>
        
        <!-- ボタン -->
        <Button Grid.Row="3" 
                Grid.Column="1" 
                Content="送信"
                Width="100"
                Height="35"
                HorizontalAlignment="Right"
                Click="SendButton_Click"/>
        
    </Grid>
</Window>